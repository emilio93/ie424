//
// Pinta un rectangulo de color R10
// desde x=R11, y=R12,
// hasta x=R15, Y=R16
//
PINTAR_RECTANGULO:
  NOP, 24'b0

  // GUARDAR EN STACK
  PUSH, 16'b0, RA
  PUSH, 16'b0, R3

  // GUARDAR R11 EN R3
  ADD, R3, R11, R0
  NOP, 24'b0

  // RESETEAR EL CONTADOR HORIZONTAL
  LOOP_VERTICAL_PINTAR_RECTANGULO:

    ADD, R11, R3, R0 // R11 = R3

    // PINTAR LINEA HORIZONTAL
    LOOP_HORIZONTAL_PINTAR_RECTANGULO:

      // ESCRIBIR EN MEMORIA DE VIDEO
      CALL, DISPLAY, 16'b0
      ADD, R11, R11, R1 // R11++
      NOP, 24'b0
      BLE, LOOP_HORIZONTAL_PINTAR_RECTANGULO, R11, R15

    ADD, R12, R12, R1 // R12++
    NOP, 24'b0
    BLE, LOOP_VERTICAL_PINTAR_RECTANGULO, R12, R16

  // RECUPERAR DEL STACK
  POP, R3, 16'b0
  POP, RA, 16'b0
  NOP, 24'b0
  RET, 16'b0, RA
